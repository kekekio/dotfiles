#!/bin/bash
##
# @brief Adds a directory to the PATH environment variable.
#
# If an argument is provided, it adds the specified directory to PATH.
# If no argument is given, it adds the current working directory to PATH.
#
# @param [optional] dir The directory to add to PATH. If omitted, uses the current directory.
#
# @return None. Modifies the PATH environment variable in-place.
#
# @note This function does not persist the change across sessions. To make it permanent, add it to ~/.bashrc or ~/.profile.
kio-path-add() {
    local dir_to_add

    if [ -z "$1" ]; then
        dir_to_add="$(pwd)"
    else
        dir_to_add="$1"
    fi

    # Check if directory exists
    if [ ! -d "$dir_to_add" ]; then
        echo "Directory '$dir_to_add' does not exist." >&2
        return 1
    fi

    # Check if already in PATH
    if [[ ":$PATH:" != *":$dir_to_add:"* ]]; then
        export PATH="$dir_to_add:$PATH"
        echo "Added '$dir_to_add' to PATH."
    else
        echo "'$dir_to_add' is already in PATH."
    fi
}
